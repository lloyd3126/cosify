
## flows/[slug]/introduction 介紹頁改版原子任務細節

1. 新增 `/flows/[slug]/introduction` 路由與頁面元件
   - 目標：建立 introduction 頁，路由結構與 history 頁一致。
   - 影響檔案：`app/flows/[slug]/introduction/page.tsx`、元件目錄
   - 注意：需判斷 flow 是否存在、是否為 public。

2. flows 列表頁所有 flow 卡片連到 introduction 頁
   - 目標：將 `/flows` 列表所有 flow 卡片連結改為 `/flows/[slug]/introduction`
   - 影響檔案：`app/flows/page.tsx`、首頁輪播卡片

3. introduction 頁頂部顯示 flows.json 的 introduction.title/description
   - 目標：正確讀取 flows.json 的 introduction 欄位，並顯示於頁面頂部
   - 注意：若缺值可 fallback 到 flow.name/metadata.description

4. introduction 頁下方展示 demo runId 預覽（比照 history 頁，無展開）
   - 目標：依 flows.json 的 introduction.demo 陣列，顯示每個 runId 的預覽
   - 注意：只顯示設為公開且存在的 runId

5. introduction demo 項目只顯示設為公開且存在的 runId
   - 目標：過濾 demo runId，僅顯示 public 且未被刪除的 run
   - 注意：API 需支援批量查詢

6. introduction demo 項目預覽張數比照 history 頁
   - 目標：每個 runId 項目預覽張數與 history 頁一致（如 3~5 張）

7. introduction demo 項目不允許展開全部 items
   - 目標：隱藏展開按鈕與展開功能

8. introduction 頁右上加入「返回 flows 清單」按鈕
   - 目標：提供明顯的返回入口，導向 `/flows`

9. introduction 頁 SEO 標題/描述用 flows.json 的 introduction 欄位
   - 目標：設定 meta 標籤，利於 SEO

10. introduction 頁若 flow 為 private，直接 404
	- 目標：判斷 flow visibility，private 則顯示 404

11. introduction 頁 demo runId 無效、被刪除或設為不公開時直接 404
	- 目標：API 回傳無資料時直接跳轉 404

12. 「開始創作」按鈕（已登入）導向 `/flows/[slug]/new`，再 redirect `/flows/[slug]?runId=[runId]`
	- 目標：按鈕行為與現有流程一致

13. 「登入後開始創作」按鈕（未登入）導向登入，登入完回 introduction 頁
	- 目標：登入後自動導回原頁

14. flowRuns 新增 public 欄位（boolean）
	- 目標：DB schema 調整，run 支援公開狀態

15. 只有設為 public 的 runId 可被公開 API 讀取
	- 目標：API 層過濾，僅允許 public runId

16. toggle 按鈕（Eye/EyeOff）切換 run 是否公開，API 需驗證擁有者
	- 目標：UI/後端支援切換公開狀態，僅限 run 擁有者

17. 分享按鈕複製 runId，位置依 UI 規範
	- 目標：依設計規範放置分享按鈕，支援複製 runId

18. 新增公開 runId items API：`GET /api/runs/public/[runId]/items`（只允許 public runId，無需登入）
	- 目標：API 允許任何人查詢公開 runId 的 items

19. 新增批量查詢 API：`POST /api/runs/public/items-batch`，body 為 runId 陣列（回傳所有 public 且存在的 runId items）
	- 目標：支援 introduction demo 批量查詢

20. toggle 公開狀態 API：`PATCH /api/runs/[runId]/public`，需驗證擁有者
	- 目標：API 支援 run 擁有者切換公開狀態

21. flows.json 不需標記 demo 的可見性或資料來源
	- 目標：資料來源維持現有設計

22. introduction demo runId 只作入口，不合併所有 items
	- 目標：UI/資料流維持分開顯示
